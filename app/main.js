"use strict";
// this import should be first in order to load some required settings (like globals and reflect-metadata)
var platform_1 = require("nativescript-angular/platform");
var app_module_1 = require("./app.module");
var auth_service_1 = require("./services/auth.service");
var firebase = require("nativescript-plugin-firebase");
firebase.init({
    persist: false,
    onAuthStateChanged: function (data) {
        console.log("LOGIN DATA : " + JSON.stringify(data));
        if (data.loggedIn) {
            auth_service_1.AuthService.token = data.user.uid;
        }
        else {
            auth_service_1.AuthService.token = null;
        }
    }
}).then(function (instance) { return console.log("Firebase inicializado"); })
    .catch(function (err) { return console.log(err); });
platform_1.platformNativeScriptDynamic().bootstrapModule(app_module_1.AppModule);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDBHQUEwRztBQUMxRywwREFBNEU7QUFFNUUsMkNBQXlDO0FBRXpDLHdEQUFxRDtBQUVyRCx1REFBMEQ7QUFFMUQsUUFBUSxDQUFDLElBQUksQ0FBQztJQUNWLE9BQU8sRUFBRSxLQUFLO0lBQ2Qsa0JBQWtCLEVBQUUsVUFBQyxJQUFVO1FBQzNCLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxHQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtRQUNsRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUEsQ0FBQztZQUNkLDBCQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO1FBQ3RDLENBQUM7UUFBQSxJQUFJLENBQUEsQ0FBQztZQUNGLDBCQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUM3QixDQUFDO0lBQ0wsQ0FBQztDQUNKLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQSxRQUFRLElBQUksT0FBQSxPQUFPLENBQUMsR0FBRyxDQUFDLHVCQUF1QixDQUFDLEVBQXBDLENBQW9DLENBQUM7S0FDeEQsS0FBSyxDQUFDLFVBQUEsR0FBRyxJQUFHLE9BQUEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBaEIsQ0FBZ0IsQ0FBQyxDQUFDO0FBRS9CLHNDQUEyQixFQUFFLENBQUMsZUFBZSxDQUFDLHNCQUFTLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRoaXMgaW1wb3J0IHNob3VsZCBiZSBmaXJzdCBpbiBvcmRlciB0byBsb2FkIHNvbWUgcmVxdWlyZWQgc2V0dGluZ3MgKGxpa2UgZ2xvYmFscyBhbmQgcmVmbGVjdC1tZXRhZGF0YSlcbmltcG9ydCB7IHBsYXRmb3JtTmF0aXZlU2NyaXB0RHluYW1pYyB9IGZyb20gXCJuYXRpdmVzY3JpcHQtYW5ndWxhci9wbGF0Zm9ybVwiO1xuXG5pbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tIFwiLi9hcHAubW9kdWxlXCI7XG5cbmltcG9ydCB7IEF1dGhTZXJ2aWNlfSBmcm9tIFwiLi9zZXJ2aWNlcy9hdXRoLnNlcnZpY2VcIjtcblxuaW1wb3J0IGZpcmViYXNlID0gcmVxdWlyZSgnbmF0aXZlc2NyaXB0LXBsdWdpbi1maXJlYmFzZScpO1xuXG5maXJlYmFzZS5pbml0KHtcbiAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICBvbkF1dGhTdGF0ZUNoYW5nZWQ6IChkYXRhIDogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTE9HSU4gREFUQSA6IFwiKyBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAgICAgICAgaWYoZGF0YS5sb2dnZWRJbil7XG4gICAgICAgICAgICBBdXRoU2VydmljZS50b2tlbiA9IGRhdGEudXNlci51aWQ7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgQXV0aFNlcnZpY2UudG9rZW4gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufSkudGhlbihpbnN0YW5jZSA9PiBjb25zb2xlLmxvZyhcIkZpcmViYXNlIGluaWNpYWxpemFkb1wiKSlcbi5jYXRjaChlcnI9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxucGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSk7XG5cbiJdfQ==